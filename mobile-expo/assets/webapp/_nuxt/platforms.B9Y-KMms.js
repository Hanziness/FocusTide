import{ah as a,a as l,af as c}from"./entry.DJtxXFKM.js";var g=(e=>(e[e.STOPPED=0]="STOPPED",e[e.RUNNING=1]="RUNNING",e[e.PAUSED=2]="PAUSED",e[e.COMPLETED=3]="COMPLETED",e))(g||{});const y=a("schedule",{state:()=>({items:u(10),timerState:0}),getters:{scheduleTypes:()=>{const t=2*l().schedule.longPauseInterval,s=[];for(let r=0;r<t;r++){let o="work";r===t-1?o="longpause":r%2&&(o="shortpause"),s.push(o)}return s},getSchedule(e){const t=l(),r=t.schedule.numScheduleEntries,o=this.scheduleTypes,i=e.items.length===0?[]:JSON.parse(JSON.stringify(e.items));if(r<i.length)i.splice(r,i.length-r);else if(r>i.length){i.length===0&&i.push(d(0));for(let n=1;n<r-i.length;n++)i.push(d(i[i.length-1].id+1))}for(let n=0;n<i.length;n++){const h=i[n].type?i[n].type:o[i[n].id%o.length];i[n].type===void 0&&(i[n].type=h),i[n].length===void 0&&(i[n].length=t.schedule.lengths[h]),i[n].timeRemaining=i[n].length-i[n].timeElapsed}return i},getCurrentItem(){return this.getSchedule[0]},getCurrentTimerState:e=>e.timerState,isRunning:e=>[1,2].includes(e.timerState),currentScheduleColour(){return l().getColor(this.getCurrentItem.type)},currentScheduleColourModern(){return l().getColor(this.getCurrentItem.type,c.modern)},nextScheduleColour(){const e=l(),t=this.getSchedule[1].type;return t?e.getColor(t):"transparent"},getScheduleColour(){const e=l(),t=[];for(const s of this.getSchedule)t.push(e.getColor(s.type));return t}},actions:{advance(){this.items=this.items.slice(1),this.items.push(d(this.items.length>0?this.items.slice(-1)[0].id+1:0))},lockInfo({index:e=0,length:t=void 0,type:s=void 0}){e<=this.items.length&&(this.items[e].length=t,this.items[e].type=s)},updateTime(e){this.items[0].timeElapsed=e},updateTimerState(e){this.timerState=e},initSchedule(e){this.items=u(e)}}});function d(e){return{id:e,timeElapsed:0,length:void 0,type:void 0}}function u(e){const t=[];for(let s=0;s<e;s++)t.push(d(s));return t}var p=(e=>(e[e.waiting=0]="waiting",e[e.inProgress=1]="inProgress",e[e.complete=2]="complete",e))(p||{});const S=a("tasklist",{state:()=>({tasks:[]}),getters:{sortedTasks:e=>[...e.tasks].sort((t,s)=>s.priority-t.priority)},actions:{newTask(e,t,s=0,r,o=0){const i={title:e,description:t,priority:s,section:r,state:o,keepOnScreen:!1,id:this.tasks.reduce((n,h)=>Math.max(h.id??0,n),-1)+1};this.tasks.push(i)},changePriority(e,t){const s=this.tasks.indexOf(e);s>=0&&(this.tasks[s].priority=Math.min(5,Math.max(-5,this.tasks[s].priority+Math.sign(t))))},toggleWorking(e){const t=this.tasks.indexOf(e);t>=0&&(this.tasks[t].state=this.tasks[t].state===1?0:1)},setComplete(e,t){const s=this.tasks.findIndex(r=>r.id===e);this.tasks[s].state=t?2:1},deleteTask(e){const t=this.tasks.indexOf(e);t>=0&&this.tasks.splice(t,1)},removeCompleted(){this.tasks=this.tasks.filter(e=>e.state!==2)},moveItem(e,t){const s=this.tasks.indexOf(e);s<0||t>=this.tasks.length||this.tasks.splice(t,0,this.tasks.splice(s,1)[0])},editTitle(e,t){const s=this.tasks.findIndex(r=>r.id===e);s<0||(this.tasks[s].title=t)}}});var m=(e=>(e[e.Default=0]="Default",e[e.Granted=1]="Granted",e[e.Denied=2]="Denied",e[e.NotSupported=3]="NotSupported",e))(m||{});const b=a("notifications",{state:()=>({enabled:0}),actions:{updateEnabled(e){if(e!==void 0){this.enabled=e;return}if(typeof window<"u"&&window.Notification)switch(window.Notification.permission){case"default":this.enabled=0;break;case"granted":this.enabled=1;break;default:this.enabled=2}else this.enabled=3}}}),C=a("platforms:mobile",{state:()=>({padding:{top:0,bottom:0}})});var f=(e=>(e.web="web",e.mobile="mobile",e))(f||{});export{f as A,m as N,g as T,S as a,b,C as c,p as d,y as u};
